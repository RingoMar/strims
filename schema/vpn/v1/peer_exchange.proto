syntax = "proto3";

package strims.vpn.v1;

option go_package = "github.com/MemeLabs/go-ppspp/pkg/apis/vpn/v1;vpn";
option java_package = "gg.strims.vpn.v1";
option swift_prefix = "SVN";

message PeerExchangeMessage {
  message Handshake {}

  message MediationOffer {
    uint64 mediation_id = 1;
    bytes data = 2;
  }

  message MediationAnswer {
    uint64 mediation_id = 1;
    bytes data = 2;
  }

  message MediationIceCandidate {
    uint64 mediation_id = 1;
    uint64 index = 2;
    bytes data = 3;
  }

  message CallbackRequest {}

  oneof body {
    Handshake handshake = 1001;
    MediationOffer mediation_offer = 1002;
    MediationAnswer mediation_answer = 1003;
    MediationIceCandidate mediation_ice_candidate = 1004;
    CallbackRequest callback_request = 1005;
  }
}
